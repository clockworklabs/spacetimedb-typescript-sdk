// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN RUST INSTEAD.

// @ts-ignore
import {
  __SPACETIMEDB__,
  AlgebraicType,
  ProductType,
  BuiltinType,
  ProductTypeElement,
  IDatabaseTable,
  AlgebraicValue,
  ReducerArgsAdapter,
  SumTypeVariant,
  Serializer,
  Identity,
  Address,
  ReducerEvent,
} from "@clockworklabs/spacetimedb-sdk";

export class SetNameReducer {
  public static call(_name: string) {
    if (__SPACETIMEDB__.spacetimeDBClient) {
      const serializer = __SPACETIMEDB__.spacetimeDBClient.getSerializer();
      let _nameType = AlgebraicType.createPrimitiveType(
        BuiltinType.Type.String
      );
      serializer.write(_nameType, _name);
      __SPACETIMEDB__.spacetimeDBClient.call("set_name", serializer);
    }
  }

  public static deserializeArgs(adapter: ReducerArgsAdapter): any[] {
    let nameType = AlgebraicType.createPrimitiveType(BuiltinType.Type.String);
    let nameValue = AlgebraicValue.deserialize(nameType, adapter.next());
    let name = nameValue.asString();
    return [name];
  }

  public static on(
    callback: (reducerEvent: ReducerEvent, reducerArgs: any[]) => void
  ) {
    if (__SPACETIMEDB__.spacetimeDBClient) {
      __SPACETIMEDB__.spacetimeDBClient.on("reducer:SetName", callback);
    }
  }
}

__SPACETIMEDB__.reducers.set("SetName", SetNameReducer);
if (__SPACETIMEDB__.spacetimeDBClient) {
  __SPACETIMEDB__.spacetimeDBClient.registerReducer("SetName", SetNameReducer);
}

export default SetNameReducer;
